{"version":3,"sources":["webpack:///src/app/tab1/tab1.page.html","webpack:///src/app/tab1/tab1-routing.module.ts","webpack:///src/app/tab1/tab1.module.ts","webpack:///src/app/tab1/tab1.page.scss","webpack:///src/app/tab1/tab1.page.ts"],"names":["routes","path","component","Tab1PageRoutingModule","imports","forChild","exports","Tab1PageModule","declarations","Tab1Page","geolocation","nativeGeocoder","platform","latitude","longitude","options","timeout","enableHighAccuracy","maximumAge","nativeGeocoderOptions","useLocale","maxResults","getCurrentPosition","then","resp","console","log","coords","loadMap","getAddress","error","lat","long","reverseGeocode","res","address","pretifyAddress","JSON","stringify","obj","data","key","push","reverse","val","length","slice","map","create","one","MAP_READY","coordinates","marker","addMarkerSync","title","snippet","position","animation","BOUNCE","showInfoWindow","setCameraTarget","setCameraZoom","selector","template"],"mappings":"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","file":"tab1-tab1-module-es5.js","sourcesContent":["export default \"<!--<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Blank\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Blank</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <div id=\\\"container\\\">\\n    <strong>Ready to create an app?</strong>\\n    <p>Start with Ionic <a target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" href=\\\"https://ionicframework.com/docs/components\\\">UI Components</a></p>\\n  </div>\\n</ion-content>\\n-->\\n\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n        Géolocalisation\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding\\\">\\n\\n    <ion-button (click)=\\\"getCurrentCoordinates()\\\" expand=\\\"block\\\">\\n      Récupérer la localisation\\n    </ion-button>\\n\\n  <ion-list>\\n    <ion-list-header>\\n      <ion-label>Coordonnées Géographique</ion-label>\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-label>\\n        Latitude\\n      </ion-label>\\n      <ion-badge color=\\\"danger\\\" slot=\\\"end\\\">{{latitude}}</ion-badge>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>\\n        Longitude\\n      </ion-label>\\n      <ion-badge color=\\\"danger\\\" slot=\\\"end\\\">{{longitude}}</ion-badge>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>\\n        Adresse\\n      </ion-label>\\n      <ion-badge color=\\\"danger\\\" slot=\\\"end\\\">{{laddress}}</ion-badge>\\n    </ion-item>\\n    </ion-list>    \\n  </div>\\n</ion-content>\\n<ion-content>\\n  <div id=\\\"map\\\" width=\\\"200\\\" height=\\\"200\\\" style=\\\"height:100%;width:100%\\\"></div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab1Page } from './tab1.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab1Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab1PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab1Page } from './tab1.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab1PageRoutingModule\n  ],\n  declarations: [Tab1Page]\n})\nexport class Tab1PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MifQ== */\";","import { Component, NgZone } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { GoogleMaps, GoogleMapsEvent, LatLng, MarkerOptions,Environment,GoogleMapsAnimation,Marker,MyLocation } from \"@ionic-native/google-maps\";\n\nimport { Platform } from \"@ionic/angular\";\n\n@Component({\n  selector: 'app-tab1',\n  templateUrl: 'tab1.page.html',\n  styleUrls: ['tab1.page.scss']\n})\nexport class Tab1Page {\n  latitude: any = 0; //latitude\n  longitude: any = 0; //longitude\n  address: string;\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    public platform: Platform\n  ) {}\n\n  // geolocation options\n  options = {\n    timeout: 10000, \n    enableHighAccuracy: true, \n    maximumAge: 3600\n  };\n\n  // use geolocation to get user's device coordinates\n  getCurrentCoordinates() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      console.log(resp)\n      this.latitude = resp.coords.latitude;\n      this.longitude = resp.coords.longitude;\n      this.loadMap(this.latitude,this.longitude)\n      this.getAddress(this.latitude, this.longitude);\n     }).catch((error) => {\n       console.log('Error getting location', error);\n     });\n  }\n\n  // geocoder options\n  nativeGeocoderOptions: NativeGeocoderOptions = {\n    useLocale: true,\n    maxResults: 5\n  };\n\n  // get address using coordinates\n  getAddress(lat,long){\n    this.nativeGeocoder.reverseGeocode(lat, long, this.nativeGeocoderOptions)\n    .then((res: NativeGeocoderResult[]) => {\n      this.address = this.pretifyAddress(res[0]);\n    })\n    .catch((error: any) => {\n      console.log('Error getting location address'+ JSON.stringify(error));\n    });\n  }\n\n  // address\n  pretifyAddress(address){\n    let obj = [];\n    let data = \"\";\n    for (let key in address) {\n      obj.push(address[key]);\n    }\n    obj.reverse();\n    for (let val in obj) {\n      if(obj[val].length)\n      data += obj[val]+', ';\n    }\n    return address.slice(0, -2);\n  }\n\n  ngAfterViewInit() {\n\t\t//this.platform.ready().then(() => this.loadMap(0,0));\n\t}\n\n\tloadMap(latitude,longitude) {\n    /* The create() function will take the ID of your map element */\n    /*Environment.setEnv({\n      'API_KEY_FOR_BROWSER_RELEASE': 'AIzaSyCnzwTuivxoonuTlZBtg7XSbdU7xjL9F9w',\n      'API_KEY_FOR_BROWSER_DEBUG': 'AIzaSyCnzwTuivxoonuTlZBtg7XSbdU7xjL9F9w',\n    });*/\n    const map = GoogleMaps.create('map')\n\n\t\tmap.one( GoogleMapsEvent.MAP_READY ).then((data: any) => {\n      \n      const coordinates: LatLng = new LatLng(latitude,longitude);\n      let marker: Marker = map.addMarkerSync({\n        title: 'Votre localisation',\n        snippet: 'Vous êtes ICI',\n        position: coordinates,\n        animation: GoogleMapsAnimation.BOUNCE\n      })\n      marker.showInfoWindow()\n\t\t\tmap.setCameraTarget(coordinates);\n\t\t\tmap.setCameraZoom(16);\n    });\n    \n\t}\n}\n"]}