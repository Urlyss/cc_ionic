{"version":3,"sources":["webpack:///src/app/tab3/tab3.page.html","webpack:///src/app/services/contact.service.ts","webpack:///src/app/tab3/tab3-routing.module.ts","webpack:///src/app/tab3/tab3.module.ts","webpack:///src/app/tab3/tab3.page.scss","webpack:///src/app/tab3/tab3.page.ts"],"names":["ContactService","db","contactCollection","collection","contact","snapshotChanges","pipe","actions","map","x","data","payload","doc","id","valueChanges","update","add","providedIn","routes","path","component","Tab3PageRoutingModule","imports","forChild","exports","Tab3PageModule","declarations","Tab3Page","contactService","alertController","actionCtrl","loader","getAllContact","btnText","create","header","inputs","name","type","placeholder","buttons","text","role","cssClass","handler","console","log","message","loading","present","addContact","then","dismiss","alert","getContacts","subscribe","contacts","removeContact","selector","template"],"mappings":"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","file":"tab3-tab3-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Tab 3\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Tab 3</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <app-explore-container name=\\\"Tab 3 page\\\"></app-explore-container>\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Contact } from '../model/contact';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContactService {\n  private contactCollection: AngularFirestoreCollection<Contact>;\n  private contact:Observable<Contact[]>;\n\n  constructor(db:AngularFirestore) { \n    this.contactCollection = db.collection<Contact>('contacts');\n    this.contact = this.contactCollection\n    .snapshotChanges()\n    .pipe(\n      map(\n        actions=>{\n          return actions.map(x=>{\n            const data = x.payload.doc.data();\n            const id = x.payload.doc.id;\n            return {id, ...data}\n          });\n        }\n      )\n    );\n  }\n\n  getContacts(){\n    return this.contact;\n  }\n\n  getContact(id:string){\n    return this.contactCollection.doc<Contact>(id).valueChanges();\n  }\n\n  update(contact:Contact, id:string){\n    return this.contactCollection.doc(id).update(contact);\n  }\n\n  addContact(contact:Contact){\n    return this.contactCollection.add(contact);\n\n  }\n\n  removeContact(id:string){\n    return this.contactCollection.doc(id).delete();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    Tab3PageRoutingModule,\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjMvdGFiMy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActionSheetController, AlertController, LoadingController } from '@ionic/angular';\nimport { Contact } from '../model/contact';\nimport { ContactService } from '../services/contact.service';\n\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss']\n})\nexport class Tab3Page implements OnInit{\n\n  \n  contacts:Contact[];\n  contact: Contact;\n\n\n  constructor(private contactService:ContactService,\n    public alertController: AlertController,\n    public actionCtrl: ActionSheetController,\n    public loader: LoadingController\n    ) { }\n\n  ngOnInit() {\n    this.getAllContact();\n  }\n\n  async addContact(){\n    let btnText = \"\";\n    \n    btnText = \"Save\";\n    const alert = await this.alertController.create({\n      header: 'Ajouter un contact',\n      inputs: [\n        {\n          name: 'name',\n          type: 'text',\n          placeholder: 'Nom'\n        },\n        {\n          name: 'telephone',\n          type: 'tel',\n          placeholder: 'Telephone'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Annuler',\n          role: 'cancel',\n          cssClass: 'danger',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        }, {\n          text: btnText,\n          handler: async data => {\n            const loading = await this.loader.create({\n              message:'Saving.......'\n            });\n            await loading.present();\n            this.contactService.addContact(data).then(()=>{\n                loading.dismiss();\n            })\n\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  getAllContact(){\n    this.contactService.getContacts().subscribe(\n      data =>{\n        this.contacts = data;\n      }\n    )\n  }\n\n  async onRemove(contact:Contact){\n    const loading = await this.loader.create({\n      message:'Deleting.......'\n    });\n    loading.present();\n    this.contactService.removeContact(contact.id).then(()=>{\n      loading.dismiss();\n    })\n  }\n\n  async saveContact(){\n    const loading = await this.loader.create({\n      message:'Saving.......'\n    });\n\n  }\n\n\n}\n"]}